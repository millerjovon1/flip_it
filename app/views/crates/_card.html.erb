<% crate_songs.each do |crate_song| %>
    <div data-controller="play-button">
      <div class="song-card" >
      <div class="mx-3">
          <i class="fa-regular fa-circle-play play-button" style="color: #000000;" data-action="click->play-button#play" data-play-button-target="playButton"></i>
          <i class="fa-regular fa-circle-pause pause-button d-none" style="color: #000000;" data-action="click->play-button#pause" data-play-button-target="pauseButton"></i>
       </div>
        <div class="song-card-infos" style="background-image: linear-gradient(rgba(0,0,0,0.4),rgba(0,0,0,0.4)), url(<%=crate_song.song.photo.attached? ? cl_image_path(crate_song.song.photo.key) : "https://source.unsplash.com/random/?<#{crate_song.song.title.gsub(" ", " ")}" %>);">
          <h3><strong> Artist:</strong> <%= crate_song.song.user.artist_name%></h3>
          <h3 class= "text-nowrap"> bpm: <%= crate_song.song.bpm%>
            <br>
            <strong>Genre:</strong>
            <%= crate_song.song.genre%>
            <br>
            <strong>Instruments:</strong> <%= crate_song.song.instruments%></h3>
        </div>
        <div class="song-audio">
          <audio controls style="display: none" data-play-button-target="audio">
            <source src="<%=crate_song.song.audio_file.url %>" type="audio/wav" >
          </audio>
        </div>
        <div class="song-engagement">
          <h3>Title:<%= crate_song.song.title%></h3>
          <i class="fa-solid fa-circle-plus card-buttons" data-action="click->playlist-popup#appear"> </i>
      <%= link_to "Delete", crate_song_path(crate_song), data: { turbo_method: :delete, turbo_confirm: "Are you sure you want to delete this song?" }, class: "btn delete-button" %>
        </div>
      </div>
    </div>
  </div>
<% end %>
